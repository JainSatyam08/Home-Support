
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.util.Random;

/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */

/**
 *
 * @author DELL
 */
public class Requestformframe extends javax.swing.JFrame {
    String mode;
    String appl_type,brand;
    /**
     * Creates new form Appliancecareframe
     */
    public Requestformframe(String mode) {
        initComponents();
        this.mode=mode;
        lbappl.setVisible(false);
        lbbrand.setVisible(false);
        cmbappl.setVisible(false);
        cmbbrand.setVisible(false);
        if(mode.equalsIgnoreCase("Appliance Care")){
            lbappl.setVisible(true);
            lbbrand.setVisible(true);
            cmbappl.setVisible(true);
            cmbbrand.setVisible(true);
        }
        //TIME, Morning, Afternoon, Evening,
        //APPLIANCE, Air Conditioner, Home Theatre, Microwave/Oven, Refrigerator, Smart TV, Washing Machine
              //  BRAND, LG, Panasonic, Hitachi, Goderej, Xiaomi, Samsung, Daikin, Havels, Sony, Philips
        //LANDMARK, Bijnore, Meerut, Muzaffarnagar, Saharanpur, Shamli
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        lbcname = new javax.swing.JLabel();
        lbcno = new javax.swing.JLabel();
        lbemail = new javax.swing.JLabel();
        lbaddress = new javax.swing.JLabel();
        lbland = new javax.swing.JLabel();
        lbappl = new javax.swing.JLabel();
        lbbrand = new javax.swing.JLabel();
        lbdate = new javax.swing.JLabel();
        lbtime = new javax.swing.JLabel();
        lbprob = new javax.swing.JLabel();
        lbnote = new javax.swing.JLabel();
        textcname = new javax.swing.JTextField();
        textcno = new javax.swing.JTextField();
        textemail = new javax.swing.JTextField();
        textadd = new javax.swing.JTextField();
        cmbland = new javax.swing.JComboBox<>();
        cmbappl = new javax.swing.JComboBox<>();
        cmbbrand = new javax.swing.JComboBox<>();
        textdate = new javax.swing.JTextField();
        cmbtime = new javax.swing.JComboBox<>();
        jScrollPane1 = new javax.swing.JScrollPane();
        textdesc = new javax.swing.JTextArea();
        jScrollPane2 = new javax.swing.JScrollPane();
        textnote = new javax.swing.JTextArea();
        lblmess = new javax.swing.JLabel();
        btadd = new javax.swing.JButton();
        btclear = new javax.swing.JButton();
        btback = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(248, 228, 184));
        setMinimumSize(new java.awt.Dimension(700, 750));

        jPanel1.setBackground(new java.awt.Color(248, 228, 184));
        jPanel1.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        jPanel1.setPreferredSize(new java.awt.Dimension(700, 750));

        lbcname.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbcname.setText("CUSTOMER NAME *");
        lbcname.setPreferredSize(new java.awt.Dimension(272, 22));

        lbcno.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbcno.setText("MOBILE NO. *");
        lbcno.setPreferredSize(new java.awt.Dimension(272, 22));
        lbcno.setRequestFocusEnabled(false);

        lbemail.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbemail.setText("EMAIL ID");

        lbaddress.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbaddress.setText("ADDRESS *");

        lbland.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbland.setText("LANDMARK *");

        lbappl.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbappl.setText("APPLIANCE TYPE *");

        lbbrand.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbbrand.setText("BRAND *");

        lbdate.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbdate.setText("PREFFER DATE(YYYY-MM-DD) *");

        lbtime.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbtime.setText("PREFFER TIME *");

        lbprob.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbprob.setText("PROBLEM DESCRIPTION");

        lbnote.setFont(new java.awt.Font("Arial", 0, 18)); // NOI18N
        lbnote.setText("NOTE");

        textcname.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        textcname.setPreferredSize(new java.awt.Dimension(272, 25));
        textcname.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                textcnameKeyPressed(evt);
            }
        });

        textcno.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        textcno.setPreferredSize(new java.awt.Dimension(272, 25));
        textcno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                textcnoKeyPressed(evt);
            }
        });

        textemail.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        textemail.setMinimumSize(new java.awt.Dimension(272, 22));
        textemail.setPreferredSize(new java.awt.Dimension(272, 25));
        textemail.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                textemailKeyPressed(evt);
            }
        });

        textadd.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        textadd.setPreferredSize(new java.awt.Dimension(272, 25));
        textadd.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                textaddKeyPressed(evt);
            }
        });

        cmbland.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        cmbland.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "LANDMARK", "Bijnore", "Meerut", "Muzaffarnagar", "Saharanpur", "Shamli" }));
        cmbland.setPreferredSize(new java.awt.Dimension(272, 25));
        cmbland.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmblandActionPerformed(evt);
            }
        });

        cmbappl.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        cmbappl.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "APPLIANCE", "Air Conditioner", "Home Theatre", "Microwave/Oven", "Refrigerator", "Smart TV", "Washing Machine" }));
        cmbappl.setPreferredSize(new java.awt.Dimension(272, 25));
        cmbappl.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbapplActionPerformed(evt);
            }
        });

        cmbbrand.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        cmbbrand.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "BRAND", "LG", "Panasonic", "Hitachi", "Goderej", "Xiaomi", "Samsung", "Daikin", "Havels", "Sony", "Philips" }));
        cmbbrand.setPreferredSize(new java.awt.Dimension(272, 25));
        cmbbrand.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbbrandActionPerformed(evt);
            }
        });

        textdate.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        textdate.setPreferredSize(new java.awt.Dimension(272, 25));
        textdate.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                textdateKeyPressed(evt);
            }
        });

        cmbtime.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        cmbtime.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "TIME", "Morning", "Afternoon", "Evening" }));
        cmbtime.setMinimumSize(new java.awt.Dimension(272, 22));
        cmbtime.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbtimeActionPerformed(evt);
            }
        });

        textdesc.setColumns(20);
        textdesc.setFont(new java.awt.Font("Arial", 0, 16)); // NOI18N
        textdesc.setRows(5);
        jScrollPane1.setViewportView(textdesc);

        textnote.setColumns(20);
        textnote.setFont(new java.awt.Font("Arial", 0, 16)); // NOI18N
        textnote.setRows(5);
        jScrollPane2.setViewportView(textnote);

        lblmess.setFont(new java.awt.Font("Arial Black", 0, 18)); // NOI18N

        btadd.setBackground(new java.awt.Color(0, 204, 51));
        btadd.setFont(new java.awt.Font("Arial Black", 0, 24)); // NOI18N
        btadd.setText("SUBMIT");
        btadd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btaddActionPerformed(evt);
            }
        });

        btclear.setBackground(new java.awt.Color(255, 255, 0));
        btclear.setFont(new java.awt.Font("Arial Black", 0, 24)); // NOI18N
        btclear.setText("CLEAR");
        btclear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btclearActionPerformed(evt);
            }
        });

        btback.setBackground(new java.awt.Color(204, 0, 0));
        btback.setFont(new java.awt.Font("Arial Black", 0, 24)); // NOI18N
        btback.setText("BACK");
        btback.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btbackActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(43, 43, 43)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(btback)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 133, Short.MAX_VALUE)
                        .addComponent(btclear)
                        .addGap(122, 122, 122)
                        .addComponent(btadd))
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(lblmess, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(lbdate, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbbrand, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbtime, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbprob, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbnote, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbappl, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbland, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbaddress, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbemail, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbcname, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(lbcno, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGap(60, 60, 60)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(textemail, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(textcname, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(textcno, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(textadd, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(cmbland, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(cmbappl, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(cmbbrand, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(textdate, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(cmbtime, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jScrollPane1)
                                .addComponent(jScrollPane2)))))
                .addContainerGap(42, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(59, 59, 59)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbcname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(textcname, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbcno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(textcno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbemail)
                    .addComponent(textemail, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbaddress)
                    .addComponent(textadd, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbland)
                    .addComponent(cmbland, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbappl)
                    .addComponent(cmbappl, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbbrand)
                    .addComponent(cmbbrand, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbdate)
                    .addComponent(textdate, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lbtime)
                    .addComponent(cmbtime, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbprob)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lbnote)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(35, 35, 35)
                .addComponent(lblmess, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(39, 39, 39)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btclear)
                        .addComponent(btadd))
                    .addComponent(btback))
                .addContainerGap(50, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btaddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btaddActionPerformed
        if (textdate.getText().trim().isEmpty()) {
              lblmess.setText("Please enter a preferred date.");
              return;
        }
        


        try{
            Random r1=new Random();
	    int a=r1.nextInt(1000,9999);
            /*int b=r1.nextInt(1,9);
            int c=r1.nextInt(1,9);
            int d=r1.nextInt(1,9);
	    String r_id= "ISCSR"+a+""+b+""+c+""+d;*/
            String r_id= "ISCSR"+a;
            String c_name= textcname.getText().trim();
            String cno=textcno.getText().trim();
            String email = textemail.getText().trim();
            String address = textadd.getText().trim();
            String landmark = cmbland.getSelectedItem().toString().trim();
            String p_time=cmbtime.getSelectedItem().toString().trim();
            String p_date = textdate.getText().trim();
            
            if(mode.equalsIgnoreCase("Appliance Care")){
                appl_type = cmbappl.getSelectedItem().toString().trim();
                brand = cmbbrand.getSelectedItem().toString().trim();
                   
                if(appl_type.equalsIgnoreCase("APPLIANCE")){
                    lblmess.setText("Select Appliance Type");
                    return;
                }
                if(brand.equalsIgnoreCase("BRAND")){
                    lblmess.setText("Select Appliance Brand");
                    return;
                }
                
            }
            
            
            if(landmark.equalsIgnoreCase("LANDMARK")){
                lblmess.setText("Please Select Landmark");
                return;
            }
            if(p_time.equalsIgnoreCase("TIME")){
                lblmess.setText("Please Select Preffer Time");
                return;
            }
            if (c_name.isEmpty() || cno.isEmpty() || address.isEmpty()) {

                lblmess.setText("❌ Please fill all the mandatory fields.");
                return;
            }
            if (!p_date.matches("\\d{4}-\\d{2}-\\d{2}")) {
                lblmess.setText("❌ Please enter date in YYYY-MM-DD format.");
                return;
            }
            if(!cno.matches("\\d{10}")){
                lblmess.setText("Enter valid 10 digit mobile no.");
                return;
            }
            
            String p_desc = textdesc.getText();
            String res_note = textnote.getText();
            Class.forName("com.mysql.jdbc.Driver");
	    Connection con=DriverManager.getConnection("jdbc:mysql://localhost/homesupport?user=root&password=satyam");
            String qry1="insert into request(r_id,c_name,cno,email,address,l_mark,s_type,p_desc,p_date,p_time,res_note,appl_type,brand) values(?,?,?,?,?,?,?,?,?,?,?,?,?)";
	    PreparedStatement ps1= con.prepareStatement(qry1);
	    ps1.setString(1,r_id);
	    ps1.setString(2,c_name);
	    ps1.setString(3,cno);
	    ps1.setString(4,email);
	    ps1.setString(5,address);
	    ps1.setString(6,landmark);
	    ps1.setString(7,mode);
	    ps1.setString(8,p_desc);
            ps1.setString(9,p_date);
            ps1.setString(10,p_time);
            ps1.setString(11,res_note);
            ps1.setString(12,appl_type);
            ps1.setString(13,brand);
	    int a1=ps1.executeUpdate();
	    String qry2 = "INSERT INTO status (r_id, c_name, cno,s_type,status,appl_type,brand) VALUES (?, ?, ?, ?, ?,?,?)";
	    PreparedStatement ps2 = con.prepareStatement(qry2);
	    ps2.setString(1, r_id);
	    ps2.setString(2, c_name);
	    ps2.setString(3, cno);
	    ps2.setString(4, mode);
	    ps2.setString(5, "Requested");
            ps2.setString(6,appl_type);
            ps2.setString(7,brand);
	    int a2=ps2.executeUpdate();
            if (a1==1 && a2==1){
                dispose();
                new Requestsubmitframe1(r_id).setVisible(true);
//	    		
	    }    
            else{
                 dispose();
                 new Oopsframe().setVisible(true);
            }            
        }
        catch(Exception e){
            System.out.println(e);
        }  // TODO add your handling code here:
    }//GEN-LAST:event_btaddActionPerformed

    private void textcnameKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_textcnameKeyPressed
        lblmess.setText("");
    }//GEN-LAST:event_textcnameKeyPressed

    private void textcnoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_textcnoKeyPressed
        lblmess.setText("");
    }//GEN-LAST:event_textcnoKeyPressed

    private void textemailKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_textemailKeyPressed
        lblmess.setText("");
    }//GEN-LAST:event_textemailKeyPressed

    private void textaddKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_textaddKeyPressed
        lblmess.setText("");
    }//GEN-LAST:event_textaddKeyPressed

    private void cmblandActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmblandActionPerformed
        lblmess.setText("");
    }//GEN-LAST:event_cmblandActionPerformed

    private void cmbapplActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbapplActionPerformed
        lblmess.setText("");
    }//GEN-LAST:event_cmbapplActionPerformed

    private void cmbbrandActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbbrandActionPerformed
        lblmess.setText("");
    }//GEN-LAST:event_cmbbrandActionPerformed

    private void textdateKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_textdateKeyPressed
        lblmess.setText("");
    }//GEN-LAST:event_textdateKeyPressed

    private void cmbtimeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbtimeActionPerformed
        lblmess.setText("");
    }//GEN-LAST:event_cmbtimeActionPerformed

    private void btclearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btclearActionPerformed
        textcname.setText("");
        textcno.setText("");
        textemail.setText(""); 
        textadd.setText(""); 
        cmbland.setSelectedIndex(0); 
        
        cmbtime.setSelectedIndex(0);
        textdesc.setText(""); 
        textdate.setText(""); 
        textnote.setText(""); 
        lblmess.setText("");
        if(mode.equalsIgnoreCase("Appliance Care")){
            lbappl.setVisible(true);
            lbbrand.setVisible(true);
            cmbappl.setVisible(true);
            cmbbrand.setVisible(true);
            cmbappl.setSelectedIndex(0);
            cmbbrand.setSelectedIndex(0);
        } 
        else {
            lbappl.setVisible(false);
            lbbrand.setVisible(false);
            cmbappl.setVisible(false);
            cmbbrand.setVisible(false);
        }
    }//GEN-LAST:event_btclearActionPerformed

    private void btbackActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btbackActionPerformed
        dispose();
        new Newrequestframe().setVisible(true);
    }//GEN-LAST:event_btbackActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Requestformframe.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Requestformframe.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Requestformframe.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Requestformframe.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btadd;
    private javax.swing.JButton btback;
    private javax.swing.JButton btclear;
    private javax.swing.JComboBox<String> cmbappl;
    private javax.swing.JComboBox<String> cmbbrand;
    private javax.swing.JComboBox<String> cmbland;
    private javax.swing.JComboBox<String> cmbtime;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JLabel lbaddress;
    private javax.swing.JLabel lbappl;
    private javax.swing.JLabel lbbrand;
    private javax.swing.JLabel lbcname;
    private javax.swing.JLabel lbcno;
    private javax.swing.JLabel lbdate;
    private javax.swing.JLabel lbemail;
    private javax.swing.JLabel lbland;
    private javax.swing.JLabel lblmess;
    private javax.swing.JLabel lbnote;
    private javax.swing.JLabel lbprob;
    private javax.swing.JLabel lbtime;
    private javax.swing.JTextField textadd;
    private javax.swing.JTextField textcname;
    private javax.swing.JTextField textcno;
    private javax.swing.JTextField textdate;
    private javax.swing.JTextArea textdesc;
    private javax.swing.JTextField textemail;
    private javax.swing.JTextArea textnote;
    // End of variables declaration//GEN-END:variables
}
